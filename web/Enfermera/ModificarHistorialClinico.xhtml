<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"

      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Lista de Documento</title>

        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link rel="Shortcut Icon" type="image/x-icon" href="../assets/icons/book.ico" />

        <script src="../s/sweet-alert.min.js"></script>

        <link rel="stylesheet" href="../resources/css/sweet-alert.css"/>
        <link rel="stylesheet" href="../resources/css/material-design-iconic-font.min.css"/>
        <link rel="stylesheet" href="../resources/css/normalize.css"/>
        <link rel="stylesheet" href="../resources/css/bootstrap.min.css"/>

        <link rel="stylesheet" href="../resources/css/jquery.mCustomScrollbar.css"/>
        <link rel="stylesheet" href="../resources/css/style.css"/>
        <script src="../resources/js/modernizr.js"></script>
        <script src="../resources/js/bootstrap.min.js"></script>
        <script src="../resources/js/jquery.mCustomScrollbar.concat.min.js"></script>
        <script src="../resources/js/main.js"></script>



    </h:head>
    <h:body>
        <f:event type="preRenderView" listener="#{controlador.verificarSesion()}"/>
        <f:event type="preRenderView" listener="#{historialClinicoBean.listarHistorialClinico()}"/>
        <f:event type="preRenderView" listener="#{controlador.verificarSesion()}"/>

        <f:event type="preRenderView" listener="#{pacienteBean.listarPaciente()}"/>
        <f:event type="preRenderView" listener="#{referenciaClinicaBean.listarReferenciaClinica()}"/>
        <f:event type="preRenderView" listener="#{enfermedadBean.listarEnfermedad()}"/>
        <f:event type="preRenderView" listener="#{empleadoBean.listar()}"/>



        <div class="navbar-lateral full-reset">
            <div class="visible-xs font-movile-menu mobile-menu-button"></div>
            <div class="full-reset container-menu-movile custom-scroll-containers">
                <div class="logo full-reset all-tittles">
                    <i class="visible-xs zmdi zmdi-close pull-left mobile-menu-button" style="line-height: 55px; cursor: pointer; padding: 0 10px; margin-left: 7px;"></i> 
                    Sistema Clinica Medica
                </div>
                <div class="full-reset" style="background-color:#2B3D51; padding: 10px 0; color:#fff;">
                    <c:if test="#{controlador.Validador() == 1}">
                        <figure>
                            <img src="../resources/imgs/Admin/boss.png" class="img-responsive center-box" style="width:55%;"/>
                            <p class="text-center" style="padding-top: 15px; font: bold small-caps 120%/200% serif;">Administrador #{controlador.usu.nombre} #{controlador.usu.apellido}</p>
                        </figure>
                    </c:if>

                    <c:if test="#{controlador.Validador() == 3}">
                        <figure>
                            <img src="../resources/imgs/Enfermera/en.png" alt="ClincaMedica" class="img-responsive center-box img-circle" style="width:55%;"/>
                            <p class="text-center" style="padding-top: 15px; font: bold small-caps 120%/200% serif;">Enfermera #{controlador.usu.nombre} #{controlador.usu.apellido}</p>
                        </figure>
                    </c:if>
                </div>
                <div class="full-reset nav-lateral-list-menu">
                    <ul class="list-unstyled">


                        <li><a style="font: bold small-caps 120%/200% serif" href="../faces/homes/homeEnfermera.xhtml"><i class="zmdi zmdi-home zmdi-hc-fw"></i>&nbsp;&nbsp; Inicio</a></li>

                        <li>
                            <div style="font: bold small-caps 120%/200% serif;" class="dropdown-menu-button"><i class="zmdi zmdi-accounts zmdi-hc-fw"></i>&nbsp;&nbsp;Registros<i class="zmdi zmdi-chevron-down pull-right zmdi-hc-fw"></i></div>
                            <ul class="list-unstyled">
                                <li><a style="font: bold small-caps 120%/200% serif;" href="faces/../../Enfermera/Enfermedad.xhtml"><i class="zmdi zmdi-account-box zmdi-hc-fw"></i>&nbsp;&nbsp; Nuevo Enfermedad</a></li>
                                <li><a style="font: bold small-caps 120%/200% serif;" href="faces/../../Enfermera/Examen.xhtml"><i class="zmdi zmdi-account-box zmdi-hc-fw"></i>&nbsp;&nbsp; Nuevo Examen</a></li>
                                <li><a style="font: bold small-caps 120%/200% serif;" href="faces/../../Enfermera/ReferenciaClinica.xhtml"><i class="zmdi zmdi-account-box zmdi-hc-fw"></i>&nbsp;&nbsp; Nuevo Referencia Clinica</a></li>
                                <li><a style="font: bold small-caps 120%/200% serif;" href="faces/../../Enfermera/RevisionGeneral.xhtml"><i class="zmdi zmdi-account-box zmdi-hc-fw"></i>&nbsp;&nbsp; Nuevo Revision General</a></li>
                                <li><a style="font: bold small-caps 120%/200% serif;" href="faces/../../Enfermera/HistorialClinico.xhtml"><i class="zmdi zmdi-account-box zmdi-hc-fw"></i>&nbsp;&nbsp; Nuevo Historial Clinico</a></li>

                            </ul>
                        </li>

                        <li>
                            <div style="font: bold small-caps 120%/200% serif;" class="dropdown-menu-button"><i class="zmdi zmdi-search "></i>&nbsp;&nbsp; busquedas <i class="zmdi zmdi-chevron-down pull-right zmdi-hc-fw"></i></div>
                            <ul class="list-unstyled">
                                <li><a style="font: bold small-caps 120%/200% serif;" href="faces/../../Enfermera/ModificarEnfermedad.xhtml"><i class="zmdi zmdi-account-box zmdi-hc-fw"></i>&nbsp;&nbsp; Enfermedad</a></li>
                                <li><a style="font: bold small-caps 120%/200% serif;" href="faces/../../Enfermera/ModificarExamen.xhtml"><i class="zmdi zmdi-account-box zmdi-hc-fw"></i>&nbsp;&nbsp; Examen</a></li>
                                <li><a style="font: bold small-caps 120%/200% serif;" href="faces/../../Enfermera/ModificarReferenciaClinica.xhtml"><i class="zmdi zmdi-account-box zmdi-hc-fw"></i>&nbsp;&nbsp; Referencia Clinica</a></li>
                                <li><a style="font: bold small-caps 120%/200% serif;" href="faces/../../Enfermera/ModificarRevisionGeneral.xhtml"><i class="zmdi zmdi-account-box zmdi-hc-fw"></i>&nbsp;&nbsp; Revision General</a></li>
                                <li><a style="font: bold small-caps 120%/200% serif;" href="faces/../../Enfermera/ModificarHistorialClinico.xhtml"><i class="zmdi zmdi-account-box zmdi-hc-fw"></i>&nbsp;&nbsp; Historial Clinico</a></li>         
                            </ul>
                        </li>

                    </ul>
                </div>
            </div>
        </div>
        <div class="content-page-container full-reset custom-scroll-containers" style="">
            <nav class="navbar-user-top full-reset">
                <ul class="list-unstyled full-reset">
                    <figure>
                        <img src="../resources/imgs/Enfermera/en.png" alt="user-picture" class="img-responsive img-circle center-box"/>
                    </figure>
                    <li style="color:#fff; cursor:default;">
                        <span class="all-tittles">#{controlador.usu.nombre} #{controlador.usu.apellido}</span>
                    </li>
                    <li  class="tooltips-general exit-system-button" data-href="index.html" data-placement="bottom" title="Salir del sistema">
                        <i class="zmdi zmdi-power"></i>
                    </li>

                    <li  class="tooltips-general search-persona-button" data-placement="bottom" title="Ayuda">
                        <i class="zmdi zmdi-help-outline zmdi-hc-fw"></i>
                    </li>

                    <li class="mobile-menu-button visible-xs" style="float: left !important;">
                        <i class="zmdi zmdi-menu"></i>
                    </li>
                </ul>
            </nav>
            <div class="container">
                <div class="page-header">
                    <h1 class="all-tittles">Sistema Clinica medica <small>Listado de Historial Clinico</small></h1>
                </div>
            </div>
            <div class="container-fluid">
                <ul class="nav nav-tabs nav-justified"  style="font-size: 17px;">
                    <li role="presentation" class="active"><a href="">Modificar</a></li>
                    <li role="presentation"><a href="faces/../HistorialClinico.xhtml">Ingresar Historial Clinico</a></li>
                </ul>
            </div>
            <div class="container-fluid"  style="margin: 50px 0;">
                <div class="row">
                    <div class="col-xs-12 col-sm-4 col-md-3">
                        <img src="../resources/imgs/Enfermera/en.png" alt="user" class="img-responsive center-box" style="max-width: 110px;"/>
                    </div>
                    <div class="col-xs-12 col-sm-8 col-md-8 text-justify lead">
                        Bienvenido a la sección donde se encuentra el listado de Historial Clinico, puedes modificar o eliminar los datos del Historial Clinico Existente en el sistema
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-xs-12 lead">
                        <ol class="breadcrumb">
                            <li class="active">Listado de Historial Clinico</li>
                        </ol>
                    </div>
                </div>
            </div>



            <div class="container-fluid">
                <h2 class="text-center all-tittles">Lista de Historial Clinico</h2>
                <div class="div-table">

                    <h:form class="div-table-row div-table-head" id="frmTabla">
                        <b:dataTable value="#{historialClinicoBean.lsthistorial}" 
                                     var="hi"
                                     id="data"
                                     excel="true"
                                     pdf="true"
                                     columnVisibility="true"
                                     print="true"
                                     class="tabla">

                            <b:dataTableColumn class="div-table-cell" value="#{hi.idHistorialClinico}" label="Código"/>

                            <b:dataTableColumn class="div-table-cell" value="#{hi.descripcion}" label="Descripcion"/>

                            <b:dataTableColumn class="div-table-cell" value="#{hi.idPaciente}" label="id Paciente"/>

                            <b:dataTableColumn class="div-table-cell" value="#{hi.idReferenciaClinica}" label="id Referencia Clinica"/>

                            <b:dataTableColumn class="div-table-cell" value="#{hi.idEnfermedad}" label="id Enfermedad"/>

                            <b:dataTableColumn class="div-table-cell" value="#{hi.fecha}" label="Fecha"/>



                            <b:dataTableColumn class="div-table-cell" label="Modificar">
                                <p:commandButton actionListener="#{historialClinicoBean.leerID(hi)}" oncomplete="PF('wdlgDatos').show()" update=":dlgDatos"  icon="ui-icon-refresh" class="btn btn-info tooltips-general" title="Modificar Historial Clinico" />                            
                            </b:dataTableColumn>


                        </b:dataTable>
                    </h:form>
                </div>                  
            </div>



            <p:dialog header="Datos" widgetVar="wdlgDatos" id="dlgDatos">
                <h:form>

                    <b:inputText placeholder="Código: " value="#{historialClinicoBean.historial.idHistorialClinico}"/>
            <!--                    <b:inputText placeholder="Descripcion: " value="#{historialClinicoBean.historial.descripcion}"  />
                                <b:inputText placeholder="id Paciente " value="#{historialClinicoBean.historial.idPaciente}"  />
                                <b:inputText placeholder="id Referencia Clinica: " value="#{historialClinicoBean.historial.idReferenciaClinica}"  />
                                <b:inputText placeholder="id Enfermedad: " value="#{historialClinicoBean.historial.idEnfermedad}"  />
                                <b:inputText placeholder="Fecha: " value="#{historialClinicoBean.historial.fecha}"  />-->


                    <b:inputText style="font: bold small-caps 120%/200% serif;" id="descripcion" placeholder="Descripcion" value="#{historialClinicoBean.historial.descripcion}"  />


                    <span>Id Paciente</span>
                    <b:selectOneMenu class="tooltips-general material-control" style="font: bold small-caps 120%/200% serif;height: 60px" title="Seleccione Ocupacion" value="#{historialClinicoBean.historial.idPaciente}" >
                        <f:selectItems value="#{pacienteBean.lstPaciente}" var="paciente" itemLabel="#{paciente.idPaciente}" itemValue="#{paciente.idPaciente}"/>
                    </b:selectOneMenu>


                    <span>Id Referencia Clinica</span>
                    <b:selectOneMenu class="tooltips-general material-control" style="font: bold small-caps 120%/200% serif;height: 60px" title="Seleccione Ocupacion" value="#{historialClinicoBean.historial.idReferenciaClinica}" >
                        <f:selectItems value="#{referenciaClinicaBean.lstReferencia}" var="re" itemLabel="#{re.nombre}" itemValue="#{re.idReferenciaClinica}"/>
                    </b:selectOneMenu>


                    <span>Id Enfermedad</span>
                    <b:selectOneMenu class="tooltips-general material-control" style="font: bold small-caps 120%/200% serif; height:60px" title="Seleccione Ocupacion" value="#{historialClinicoBean.historial.idEnfermedad}" >
                        <f:selectItems value="#{enfermedadBean.lstEnfermedad}" var="es" itemLabel="#{es.nombre}" itemValue="#{es.idEnfermedad}"/>
                    </b:selectOneMenu>

                    <b:inputText style="font: bold small-caps 120%/200% serif;" id="fecha" placeholder="Fecha" value="#{historialClinicoBean.historial.fecha}"  />



                    <b:commandButton class="btn btn-primary" value="Modificar" actionListener="#{historialClinicoBean.modificar()}"  oncomplete="PF('wdlgDatos').hide();"  update=":frmTabla:data"/>
                    <b:commandButton class="btn btn-danger" value="Cancelar" immediate="true"  oncomplete="PF('wdlgDatos').hide();" />
                </h:form>
            </p:dialog>




            <footer class="footer full-reset">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-xs-12 col-sm-6">
                            <h4 class="all-tittles">Acerca de</h4>
                            <p>
                                Systema basado y desarrollado completamente en java 
                            </p>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <h4 class="all-tittles">Desarrolladores</h4>
                            <ul class="list-unstyled">
                                <li><i class="zmdi zmdi-check zmdi-hc-fw"></i>&nbsp; Evelyn Juarez</li>
                                <li><i class="zmdi zmdi-check zmdi-hc-fw"></i>&nbsp; Harvey Herrera</li>
                                <li><i class="zmdi zmdi-check zmdi-hc-fw"></i>&nbsp; Erick Osoy </li>
                                <li><i class="zmdi zmdi-check zmdi-hc-fw"></i>&nbsp; Daniel Galindo </li>
                                <li><i class="zmdi zmdi-check zmdi-hc-fw"></i>&nbsp; Carlos Coronado </li>
                                <li><i class="zmdi zmdi-check zmdi-hc-fw"></i>&nbsp; Kevin Mazariegos</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="footer-copyright full-reset all-tittles">© 2017 Intecap Zona 4 Centro Tics</div>
            </footer>
        </div>
    </h:body>
</html>




